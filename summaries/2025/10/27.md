# Activity Summary for 10/27/2025

## 10:07:56 AM
The provided log details a series of changes primarily focused on environment configuration and continuous deployment pipelines for an "ambulensi-server" project, occurring on October 24, 2025.

**File-specific Updates:**

*   **`c:\Users\Dennis\Documents\projects\ambulensi\ambulensi-server\.env.dev`**: This development environment file was updated multiple times between 11:33 AM and 12:56 PM. The changes involved populating specific configuration values related to Google iOS client ID and Apple Team ID. Due to the sensitive nature of this file, no further details on its content changes are provided.

*   **`c:\Users\Dennis\Documents\projects\ambulensi\ambulensi-server\cloudbuild-dev.yaml`**: This Google Cloud Build configuration for the development environment underwent several modifications between 11:35 AM and 11:46 AM.
    *   **Initial Setup (11:35:24 AM)**: The file outlined a standard CI/CD pipeline, including steps to fetch secrets from Secret Manager, build a Docker image with Sentry DSN and Auth Token as build arguments, push the image to Google Container Registry, and deploy it to a Cloud Run service named `ambulensi-server-dev` in the `europe-west1` region. It defined a comprehensive list of environment variable substitutions, covering application URLs, GCP resources, Traccar integration, Zoho details, various support emails, Celcom API settings, and Google OAuth client IDs. Notably, several `echo` commands for Google OAuth client IDs were initially incorrectly configured, repeating `CELCOM_BASE_URL`. The `_GOOGLE_IOS_CLIENT_ID` substitution was initially empty.
    *   **Google OAuth ID Population (11:35:43 AM)**: The `_GOOGLE_IOS_CLIENT_ID` substitution was updated with a specific ID.
    *   **Syntax Corrections (11:36:14 AM - 11:36:38 AM)**: A rapid series of commits addressed and corrected the syntax errors in the `bash` script within the "Fetch secrets from Secret Manager" step. Specifically, the `echo` commands for `GOOGLE_CLIENT_ID`, `GOOGLE_WEB_CLIENT_ID`, `GOOGLE_ANDROID_CLIENT_ID`, and `GOOGLE_IOS_CLIENT_ID` were progressively fixed to correctly write their respective variable names to `/workspace/secrets.yaml` instead of `CELCOM_BASE_URL`. The final correction was made at 11:36:38 AM.
    *   **Minor Re-save (11:46:28 AM)**: No functional changes were observed in the last recorded update for this file compared to the immediate preceding version.

*   **`c:\Users\Dennis\Documents\projects\ambulensi\ambulensi-server\cloudbuild-prod.yaml`**: This Google Cloud Build configuration for the production environment also saw updates.
    *   **Initial Setup (11:37:12 AM)**: Similar to the dev configuration, it defined steps for fetching secrets, building, pushing, and deploying a Docker image to `ambulensi-server-prod`. It used production-specific URLs, a different GCP project ID (`ambulensi-381516`), and a distinct service account. Initially, `_GOOGLE_ANDROID_CLIENT_ID` and `_GOOGLE_IOS_CLIENT_ID` substitutions were empty.
    *   **Google OAuth ID Population (11:37:42 AM)**: Both `_GOOGLE_ANDROID_CLIENT_ID` and `_GOOGLE_IOS_CLIENT_ID` substitutions were populated with specific IDs.

**Timestamps of Significant Changes:**

*   **10/24/2025, 11:33 AM**: Initial changes to the development environment file (`.env.dev`).
*   **10/24/2025, 11:35 AM - 11:37 AM**: A concentrated period of updates and corrections to both `cloudbuild-dev.yaml` and `cloudbuild-prod.yaml` files, specifically around Google OAuth configurations and the CI/CD pipeline's secret handling.
*   **10/24/2025, 12:56 PM**: A later update to the development environment file, indicating ongoing configuration adjustments.

**Patterns and Recurring Elements:**

*   **Cloud Build Pipeline Consistency**: Both `cloudbuild-dev.yaml` and `cloudbuild-prod.yaml` follow a consistent pattern: fetching secrets, building a Docker image, pushing it to a registry, and deploying to Google Cloud Run.
*   **Environment-Specific Configuration**: There is a clear separation of configurations for development and production environments, using distinct URLs, GCP project IDs, bucket names, and service accounts.
*   **Extensive Use of Environment Variables/Substitutions**: A large number of variables are configured across both `.env.dev` and the Cloud Build `substitutions` block, indicating a dependency on external services and APIs (GCP, Traccar, Zoho, SendGrid, Sentry, Celcom, Google Maps, Google OAuth, Apple Sign In, OneSignal).
*   **Frequent Google OAuth & Apple Sign In Adjustments**: Updates consistently involve Google OAuth client IDs and Apple Sign In details, suggesting active integration or refinement of these authentication methods.
*   **Error Correction in Pipeline Scripts**: A series of quick fixes in `cloudbuild-dev.yaml` highlights iterative development and debugging of the CI/CD script, specifically concerning how Google OAuth client IDs were being passed to the deployed service.